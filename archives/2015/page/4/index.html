<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Archives: 2015 | JetMuffin&#39;s Blog</title>
  <meta name="description" content="JetMuffin's blog." />
  <meta name="keywords" content="hexo,blog,jetmuffin" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="JetMuffin&apos;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="JetMuffin's Blog">
<meta property="og:url" content="http://blog.jetmuffin.com/archives/2015/page/4/index.html">
<meta property="og:site_name" content="JetMuffin's Blog">
<meta property="og:description" content="JetMuffin&apos;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JetMuffin's Blog">
<meta name="twitter:description" content="JetMuffin&apos;s Blog">
  
  
    <link rel="icon" href="/favicon.png">
  
  
	<!-- <script src="https://use.typekit.net/eyf3hir.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script> -->
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  Kaizokuou ore ha naru
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      
	


	<section class="page-header archive">
    <h1>- <span>2015</span> -</h1>
  </section>




<section class="post-list">
	
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/07/27/hdu-1054-Strategic-Game-greedy/">
      hdu 1054 Strategic Game 贪心
    </a>
  </h2>
  
  <time>
    7月 27, 2015
  </time>
  <section class="content">
	  <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1054" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=1054</a></p>
<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>给定一个二分图（给图的方式太蛋疼，输入输出好麻烦），在任意节点放置哨兵使得可以覆盖整个图。图的节点数<code>n &lt;= 1500</code></p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>这题看似一道很裸的二分图最小点覆盖（或者最大匹配），然而我并不会这些内容，所以一直在想其他策略。</p>
<p>一开始有一种贪心思路是，将点以度数进行排序，因为取度数较大的点上放一个哨兵的收益最大，因此需要动态维护一个堆，使得这个堆堆顶始终是度数最大的点，然后从堆顶取点，并将点对应的相邻点度数一次减1，然后将度数为0的点直接踢出堆外以减小复杂度。而这个堆可以是二叉堆，修改、删除、插入、取堆顶元素的操作复杂度均为<code>O(logn)</code>，然而我这块儿也学得不好，直接敲模板又比较麻烦。</p>
<p>所以从思路二继续尝试其他思路，发现从相反反向考虑，度数较大的点放哨兵收益最大，而度数最小的点（二分图无孤立点）即度数为1的点放哨兵度数收益最小，因此从反方向考虑这个问题的话，就是尽量不要再度数为1的点上放哨兵，而是用它的邻点取代它。因此我们维护一个队列，放置所有度数为1的点，每次取出队首<code>u</code>，并取出第一个邻点<code>v</code>，将邻点<code>v</code>的所有邻点度数更新，若出现度数为1的点则再加入队列。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><pre><code class="cpp"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;
<span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1600</span>;
<span class="keyword">int</span> deg[maxn];
<span class="keyword">int</span> vis[maxn];
<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; edge[maxn];
<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{
    <span class="keyword">int</span> n;
<span class="comment">//  freopen("in.txt","r",stdin);</span>
    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)){
        <span class="built_in">memset</span>(deg,<span class="number">0</span>,<span class="keyword">sizeof</span>(deg));
        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));
        <span class="built_in">memset</span>(edge,<span class="number">0</span>,<span class="keyword">sizeof</span>(edge));

        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++){
            <span class="keyword">int</span> m,u;
            <span class="built_in">scanf</span>(<span class="string">"%d:(%d)"</span>,&amp;u,&amp;m);
            <span class="keyword">if</span>(m &gt; <span class="number">0</span>){
                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; m; j++){
                    <span class="keyword">int</span> v;
                    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;v);
                    edge[u].push_back(v);
                    edge[v].push_back(u);
                    deg[u]++;
                    deg[v]++;
                }
            }
        }
<span class="comment">//      for(int i = 0 ; i &lt; n; i++){</span>
<span class="comment">//          cout&lt;&lt;deg[i]&lt;&lt;" ";</span>
<span class="comment">//      }</span>
<span class="comment">//      cout&lt;&lt;endl;</span>
        <span class="keyword">if</span>(n == <span class="number">1</span>){
            <span class="built_in">puts</span>(<span class="string">"1"</span>);
            <span class="keyword">continue</span>;
        }           
        <span class="built_in">queue</span> &lt;<span class="keyword">int</span>&gt; q;
        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n; i++){
            <span class="keyword">if</span>(deg[i] == <span class="number">1</span>)
                q.push(i);
        }
        <span class="keyword">int</span> ans = <span class="number">0</span>;
        <span class="keyword">while</span>(!q.empty()){
            <span class="keyword">int</span> u = q.front();
            q.pop();
            <span class="keyword">if</span>(vis[u])
                <span class="keyword">continue</span>;
            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edge[u].size(); i++){
                <span class="keyword">int</span> v = edge[u][i];
                <span class="keyword">if</span>(!vis[v]){
                    vis[v] = <span class="number">1</span>;
                    ans++;
                    <span class="comment">//选1个放烧饼 </span>
                    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; edge[v].size(); j++){
                        <span class="keyword">int</span> w = edge[v][j];
                        deg[w] --;
                        <span class="keyword">if</span>(deg[w] == <span class="number">1</span> &amp;&amp; !vis[w]){
                            q.push(w);
                        }
                    }
                    <span class="keyword">break</span>; 
                }
            }
        }

        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;
    }

}
</code></pre>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/贪心/">贪心</a><a class="tag-link" href="/tags/队列/">队列</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/07/26/segment-tree/">
      数据结构总结 - 线段树专题
    </a>
  </h2>
  
  <time>
    7月 26, 2015
  </time>
  <section class="content">
	  <h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>线段数是一种特殊的数据结构，它是一颗<code>完全二叉树</code>，它的每个节点保存一条线段，主要用来做高效的动态查询。线段树的区间查询复杂度为<code>o(logn)</code>,更新复杂度也为<code>o(logn)</code></p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><ol>
<li><p>构造 <code>void build(int l,int r, int rt)</code></p>
<p>构造线段树的过程是一个递归的过程，不停二分给定的区间<code>[l,r]</code>，若<code>l=r</code>时，则直接赋值。<code>rt</code>表示当前要构建的节点，而<code>l</code>和<code>r</code>为递归区间，每次以<code>m=(l+r)/2</code>为二分点，构建左子树和右子树，然后将左子树和右子树的信息向上更新(<code>pushup</code>)。这里及以下代码以求区间和的线段树为例。</p>
<p>void build(int l,int r, int rt){</p>
<pre><code>add[rt] = 0;
if(l == r){
    return;
}
int m = (l + r) &gt;&gt; 1;
build(lson);
build(rson);
pushup(rt);
</code></pre><p>}<br>`</p>
</li>
<li><p>查询<code>query(int L,int R,int l, int r, int rt)</code><br>线段树查询也运用了分治的思想，不断二分起始区间，直到和查询出现交集，再回溯并合并到结果中，若有延迟更新标记，则进行更新再进行回溯。查询区间<code>[L,R]</code>和二分区间<code>[l,r]</code>满足关系有以下几种（m为二分区间中点）：</p>
</li>
</ol>
<ul>
<li><code>L &lt;= l &lt;= r &lt;= R</code>，即二分区间在查询区间以内，则直接回溯<code>[l,r]</code>合并到查询结果中</li>
<li><code>L &lt;= m</code>,则继续二分左儿子，直至<code>m &lt; L</code>，并把属于区间内的结果回溯到最后的结果</li>
<li><code>m &lt;= R</code>，则继续二分右儿子，直至<code>m &gt; R</code>，并把结果回溯刀最后结果<pre>`LL query(int L,int R,int l, int r, int rt){
    if(L <= l="" &&="" r="" <="R){" return="" sum[rt];="" }="" pushdown(rt,="" -="" +="" 1);="" int="" m="(l" r)="">> 1;
    LL ret = 0;
    if(L <= m)="" ret="" +="query(L," r,="" lson);="" if(m="" <="" r)="" rson);="" return="" ret;="" }="" `<="" pre="">
</=></=></pre></li>
</ul>
<ol>
<li>更新</li>
</ol>
<ul>
<li><p>点更新<code>void updatep(int p, int add, int l, int r, int rt)</code><br>点更新的操作比较无闹，不断二分区间<code>[l,r]</code>，直至<code>l == r</code>，就相当于在区间<code>[l,r]</code>中二分查找p，然后将其加上需要加的数即可。</p>
<pre>`void updatep(int p, int add, int l, int r, int rt)  
{  
    if( l == r )  
    {  
        sum[rt] += add;  
        return ;  
    }  
    int m = ( l + r ) >> 1;  
    if(p <= m)="" updatep(p,="" add,="" lson);="" else="" rson);="" pushup(rt);="" }="" `<="" pre="">
</=></pre></li>
<li><p>区间更新<code>void update(int L,int R,int c,int l,int r,int rt)</code><br>区间更新的二分过程和区间查询的过程相同，二分出现出现区间查询中的情况一则进行更新，但是需要注意的是，为了降低区间更新复杂度，需要使用延迟标记，等到查询时再向下更新到底。因此对于情况一只进行标记更新和当前节点更新，同时做一次向下更新。对于情况二和情况三，分别更新左右子树，并向上做一次更新。<br><pre>`void update(int L,int R,int c,int l,int r,int rt){</pre></p>
<pre><code>if(L &lt;= l &amp;&amp; r &lt;=R){
    add[rt] += c;
    sum[rt] += (LL)c * (r - l + 1);
    return;
}
pushdown(rt,r - l + 1);
int m = (l+r) &gt;&gt; 1;
if(L &lt;= m) update(L, R, c, lson);
if(m &lt; R) update(L, R, c, rson);
pushup(rt);
</code></pre><p>}</p>
</li>
</ul>
<h2 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h2><h3 id="线段树普遍题型有区间求和及区间最值（RMQ），之后会慢慢在此博客进行持续更新。"><a href="#线段树普遍题型有区间求和及区间最值（RMQ），之后会慢慢在此博客进行持续更新。" class="headerlink" title="线段树普遍题型有区间求和及区间最值（RMQ），之后会慢慢在此博客进行持续更新。"></a>线段树普遍题型有区间求和及区间最值（RMQ），之后会慢慢在此博客进行持续更新。</h3>

    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/数据结构/">数据结构</a><a class="tag-link" href="/tags/线段树/">线段树</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/07/26/hdu-5311-Hidden-String-BestCoder-1st-Anniversary-B-search/">
      hdu 5311 Hidden String BestCoder 1st Anniversary B 暴搜
    </a>
  </h2>
  
  <time>
    7月 26, 2015
  </time>
  <section class="content">
	  <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>题目地址：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5311" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=5311</a></p>
<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>指定串为”anniversary”，在输入串中找到不相交的三段，拼起来数指定串，<code>len(s)</code>范围为100</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>这题卡了挺久主要是题意理解问题，一直以为这三段不需要顺序拼接，例如<code>sary1ver1anni</code>这种应该页输出<code>YES</code>，然而并不是。事实上是简单的顺序拼接，这样的话可以进行最最暴力的for循环搜索了，搜索过程可以用KMP加速以下，而KMP的起始位置是动态变化的就行了。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">getNext</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;p, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;next)</span></span></div><div class="line">&#123;</div><div class="line">    next.resize(p.size());</div><div class="line">    next[<span class="number">0</span>] = <span class="number">-1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">-1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (i != p.size() - <span class="number">1</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="comment">//这里注意，i==0的时候实际上求的是next[1]的值，以此类推</span></div><div class="line">        <span class="keyword">if</span> (j == <span class="number">-1</span> || p[i] == p[j])</div><div class="line">        &#123;</div><div class="line">            ++i;</div><div class="line">            ++j;</div><div class="line">            next[i] = j;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            j = next[j];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; s, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; p, <span class="keyword">const</span> <span class="keyword">int</span> sIndex = <span class="number">0</span>)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;next(p.size());</div><div class="line">    getNext(p, next);<span class="comment">//获取next数组，保存到vector中</span></div><div class="line"></div><div class="line">    <span class="keyword">int</span> i = sIndex, j = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(i != s.length() &amp;&amp; j != p.length())</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (j == <span class="number">-1</span> || s[i] == p[j])</div><div class="line">        &#123;</div><div class="line">            ++i;</div><div class="line">            ++j;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            j = next[j];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> j == p.length() ? i - j: <span class="number">-1</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">string</span> s;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> T;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">    <span class="keyword">while</span> (T--) &#123;</div><div class="line">        <span class="built_in">cin</span> &gt;&gt; s;</div><div class="line">        <span class="built_in">string</span> s0 = <span class="string">"anniversary"</span>;</div><div class="line">        <span class="keyword">int</span> len0 = s0.size();</div><div class="line">        <span class="built_in">string</span> s1, s2, s3;</div><div class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len0; ++i) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len0; ++j) &#123;</div><div class="line">                s1.clear();</div><div class="line">                s2.clear();</div><div class="line">                s3.clear();</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> t = <span class="number">0</span>; t &lt; i; ++t) &#123;</div><div class="line">                    s1 += s0[t];</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> t = i; t &lt; j; ++t) &#123;</div><div class="line">                    s2 += s0[t];</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> t = j; t &lt; len0; ++t) &#123;</div><div class="line">                    s3 += s0[t];</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// cout &lt;&lt; s1 &lt;&lt; " " &lt;&lt; s2 &lt;&lt; " " &lt;&lt; s3 &lt;&lt; endl;</span></div><div class="line">                <span class="keyword">int</span> idx = kmp(s, s1);</div><div class="line">                <span class="keyword">if</span> (idx == <span class="number">-1</span>) &#123;</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                &#125; </div><div class="line"></div><div class="line">                <span class="comment">//printf("%d %d   111\n", i, j);</span></div><div class="line">                idx = kmp(s, s2, idx + s1.size());</div><div class="line">                <span class="keyword">if</span> (idx == <span class="number">-1</span>) &#123;</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="comment">//printf("222\n");</span></div><div class="line">                idx = kmp(s, s3, idx + s2.size());</div><div class="line">                <span class="keyword">if</span> (idx == <span class="number">-1</span>) &#123;</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                &#125;</div><div class="line">                flag= <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (flag) &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/搜索/">搜索</a><a class="tag-link" href="/tags/暴力/">暴力</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/07/26/hdu-5305-Friends-2015-summer-multi-school-trainning-search/">
      hdu 5305 Friends 2015多校联训第二场 搜索
    </a>
  </h2>
  
  <time>
    7月 26, 2015
  </time>
  <section class="content">
	  <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5305" target="_blank" rel="external">http://acm.hdu.edu.cn/showproblem.php?pid=5305</a></p>
<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>对题意的理解可以抽象成，当前已知一个<code>图</code>，图最多的点数为<code>8</code>,然后将图中的部分边进行<code>染色</code>，然后使得每个点对应的边有一半是黑边，一半是白边。</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>一开始接触题的想法是，既然数据范围小，可以直接进行搜索，然而一开始的策略是对点进行搜索，每个点枚举一半的边，进行染色，然后再搜下一个点进行染色，方法非常复杂，后来就没用继续下去了。</p>
<p>然而及时看了下<code>staus</code>发现大家过得时间非常短，一般都是<code>15ms</code>或<code>30ms</code>就通过了，然后一度以为是结论题，只要统计边和点的信息就可以解出题了，结果不是。</p>
<p>看了题解后发现做法应该是按边取搜索。可以先进行一次粗略的<code>剪枝</code>，统计每个点的度数，若出现奇数直接输出0；</p>
<p>然后将每个点的<code>白边数</code>和<code>黑边数</code>分别置为度数的一半，然后枚举保存的边，分别按染白和染黑进行搜索，知道搜索出结果。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><pre><code class="cpp"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;

<span class="meta">#<span class="meta-keyword">define</span> LL long long</span>
<span class="meta">#<span class="meta-keyword">define</span> ULL unsigned long long</span>
<span class="meta">#<span class="meta-keyword">define</span> MP make_pair</span>

<span class="meta">#<span class="meta-keyword">define</span> mod 1000000007</span>
<span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span>
<span class="meta">#<span class="meta-keyword">define</span> pi acos(-1.0)</span>
<span class="meta">#<span class="meta-keyword">define</span> inf 0x3fffffff</span>
<span class="keyword">int</span> n,m;
<span class="keyword">struct</span> edge{
    <span class="keyword">int</span> u,v;
}e[<span class="number">100</span>];
<span class="keyword">int</span> deg[<span class="number">10</span>];
<span class="keyword">int</span> c1[<span class="number">10</span>];
<span class="keyword">int</span> c2[<span class="number">10</span>];
<span class="keyword">int</span> ans = <span class="number">0</span>;
<span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur)</span></span>{
<span class="comment">//    cout&lt;&lt;"cur: "&lt;&lt;cur&lt;&lt;endl;</span>
<span class="comment">//    for(int i = 1; i &lt;= n; i ++){</span>
<span class="comment">//        cout&lt;&lt;c1[i]&lt;&lt;" ";</span>
<span class="comment">//    }</span>
<span class="comment">//    cout&lt;&lt;endl;</span>
<span class="comment">//    for(int i = 1; i &lt;= n; i ++){</span>
<span class="comment">//        cout&lt;&lt;c2[i]&lt;&lt;" ";</span>
<span class="comment">//    }</span>
<span class="comment">//    cout&lt;&lt;endl;    </span>
    <span class="keyword">if</span>(cur == m+<span class="number">1</span>){
        ans++;
        <span class="keyword">return</span>;
    }
    <span class="keyword">int</span> v = e[cur].v;
    <span class="keyword">int</span> u = e[cur].u;
    <span class="keyword">if</span>(c1[u] &amp;&amp; c1[v]){
        c1[u] --;
        c1[v] --;
        dfs(cur+<span class="number">1</span>);
        c1[u] ++;
        c1[v] ++;
    }
    <span class="keyword">if</span>(c2[u] &amp;&amp; c2[v]){
        c2[u] --;
        c2[v] --;
        dfs(cur+<span class="number">1</span>);
        c2[u] ++;
        c2[v] ++;
    }
    <span class="keyword">return</span>;
}
<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>
</span>{
    <span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span>
        freopen(<span class="string">"in.txt"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);
        <span class="comment">//freopen("out.txt","w",stdout);</span>
    <span class="meta">#<span class="meta-keyword">endif</span></span>

    <span class="keyword">int</span> t;
    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);
    <span class="keyword">while</span>(t--){
        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);
        ans = <span class="number">0</span>;
        <span class="built_in">memset</span>(deg,<span class="number">0</span>,<span class="keyword">sizeof</span>(deg));
        <span class="built_in">memset</span>(c1,<span class="number">0</span>,<span class="keyword">sizeof</span>(c1));
        <span class="built_in">memset</span>(c2,<span class="number">0</span>,<span class="keyword">sizeof</span>(c2));
        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=m; i++){
            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;e[i].u,&amp;e[i].v);
            deg[e[i].v]++;
            deg[e[i].u]++;
        }    
        <span class="keyword">int</span> flag = <span class="number">1</span>;
        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++){
            <span class="keyword">if</span>(deg[i] &amp; <span class="number">1</span>){
                flag = <span class="number">0</span>;
                <span class="keyword">break</span>;
            }
            c1[i] = deg[i]/<span class="number">2</span>;
            c2[i] = deg[i]/<span class="number">2</span>;
        }
        <span class="keyword">if</span>(!flag){
            <span class="built_in">puts</span>(<span class="string">"0"</span>);
            <span class="keyword">continue</span>;
        }
        dfs(<span class="number">1</span>);
        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);
    }
}
</code></pre>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/dfs/">dfs</a><a class="tag-link" href="/tags/搜索/">搜索</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/07/21/hdu-5088-2015-multi-school-training-1001-solution/">
      hdu 5088 2015多校联训第一场 1001 因数分解
    </a>
  </h2>
  
  <time>
    7月 21, 2015
  </time>
  <section class="content">
	  <h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>题目链接：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5288">OO’s Sequence</a></p>
<h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>题意比较明确，f(l,r)表示[l,r]区间内，满足条件（对于任意区间内的某个数i自身外的其他数j，均不存在i%j==0）的i的个数，最后则是要求所有区间（枚举所有区间）的f函数和。<br>

    
	  <div class="readmore">
      <a href="/2015/07/21/hdu-5088-2015-multi-school-training-1001-solution/">Read More</a>
    </div>
    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/因数分解/">因数分解</a><a class="tag-link" href="/tags/多校联训/">多校联训</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/07/12/basic-algorithm-training-sort/">
      基础算法训练 - 排序专题
    </a>
  </h2>
  
  <time>
    7月 12, 2015
  </time>
  <section class="content">
	  <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>以前的算法和数据结构基础不是很扎实，从现在开始，弄懂每个算法的原理，打好基础。</p>
<h2 id="1-快速排序"><a href="#1-快速排序" class="headerlink" title="1.快速排序"></a>1.快速排序</h2><p>快排的核心思想是分治，核心算法则是对数组的划分：</p>
<p>`quicksort(A,p,r):</p>
<p>if p &lt; r</p>
<p>q = partition(A,p,r)</p>
<p>quicksort(A,p,q-1)</p>
<p>quicksort(A,q+1,r)`</p>
<p>其中划分函数partition的核心操作是：</p>
<ol>
<li>将数组最后一个元素A[r]作为比较对象</li>
<li>i = p-1 , j = p, j不停自加，判断A[r]和A[j]大小，若A[j]小于A[r]则将后游标i前进1位，并交换a[i]和a[j]</li>
<li>最后交换a[i+1]和a[r]</li>
<li>交换所得目的数将所有比a[r]小的数放在数组前面，所有比a[r]大的数放在数组后面，a[r]则在数组中间，返回数字为比a[r]小的数的个数</li>
</ol>
<p>代码：</p>
<p>`#include <iostream></iostream></p>
<p>using namespace std;</p>
<p>int a[100] = {13,19,9,5,12,8,7,4,21,2,6,11};</p>
<p>void swap(int &amp;x,int &amp;y){</p>
<p>  int t = x;</p>
<p>  x = y;</p>
<p>  y = t;</p>
<p>}</p>
<p>int partition(int p,int r){</p>
<p>  int i = p - 1;</p>
<p>  int j = p;</p>
<p>  for(;j &lt; r; j++){</p>
<pre><code>if(a[j] &lt; a[r]){

  i++;

  swap(a[i],a[j]);

}
</code></pre><p>  }</p>
<p>  swap(a[r],a[i+1]);</p>
<p>  return i+1;</p>
<p>}</p>
<p>void quicksort(int p,int r){</p>
<p>  if(p &lt; r){</p>
<pre><code>int q = partition(p,r);

quicksort(p,q-1);

quicksort(q+1,r);
</code></pre><p>  }</p>
<p>}</p>
<p>int main(){</p>
<p> quicksort(0,11); </p>
<p>  // int n = partition(0,11);</p>
<p>  for(int i = 0 ; i &lt; 12;i++)</p>
<pre><code>cout&lt;&lt;a[i]&lt;&lt;&quot; &quot;;
</code></pre><p>  cout&lt;&lt;endl;</p>
<p>}`</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/基础算法/">基础算法</a><a class="tag-link" href="/tags/排序/">排序</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/06/27/hdu-1176-free-pie-dp/">
      hdu 1176 免费馅饼 变型数塔 dp
    </a>
  </h2>
  
  <time>
    6月 27, 2015
  </time>
  <section class="content">
	  <h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>题目：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1176" target="_blank" rel="external">题目链接</a></p>
<p>按题意，t时间会落下一个馅饼在x位置，而处于x’位置的gameboy只能拿到x’+1、x’、x’-1三个位置的馅饼，若将馅饼下落信息用一个数组f[t][x]，发现对于每个i，j，gameboy只能取得f[i+1][j+1]，f[i+1][j-1]，f[i+1][j]三个值，要使得最后取得的值最大，一看这是典型的数塔问题，然后就可以用dp轻松解决了</p>
<p>注意：由于数组每层在计算后不再使用，所以直接用原数组进行滚动，从下往上将结果累加即可。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ULL unsigned long long</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MP make_pair</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mod 1000000007</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> eps 1e-8</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pi acos(-1.0)</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 0x3fffffff</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200055 </span></div><div class="line"></div><div class="line"><span class="keyword">int</span> f[maxn][<span class="number">20</span>]; </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxx</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c)</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> max(max(a,b),c);</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"></div><div class="line">&#123;</div><div class="line"></div><div class="line">	<span class="meta">#<span class="meta-keyword">ifndef</span> ONLINE_JUDGE</span></div><div class="line"></div><div class="line">	    freopen(<span class="string">"in.txt"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line"></div><div class="line">		<span class="comment">//freopen("out.txt","w",stdout);</span></div><div class="line"></div><div class="line">	<span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line"></div><div class="line">	<span class="keyword">int</span> n;</div><div class="line"></div><div class="line">	<span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)&amp;&amp;n)&#123;</div><div class="line"></div><div class="line">		<span class="keyword">int</span> t,x;</div><div class="line"></div><div class="line">		<span class="built_in">memset</span>(f,<span class="number">0</span>,<span class="keyword">sizeof</span>(f));</div><div class="line"></div><div class="line">		<span class="keyword">int</span> mx = <span class="number">0</span>;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n; i++)&#123;</div><div class="line"></div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;x,&amp;t);</div><div class="line"></div><div class="line">			f[t][x+<span class="number">1</span>] ++;</div><div class="line"></div><div class="line">			<span class="keyword">if</span>(t &gt; mx) mx = t; </div><div class="line"></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = mx <span class="number">-1</span> ; i &gt; <span class="number">0</span>; i--)&#123;</div><div class="line"></div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">11</span>;j++)&#123;</div><div class="line"></div><div class="line">				f[i][j] += maxx(f[i+<span class="number">1</span>][j],f[i+<span class="number">1</span>][j<span class="number">-1</span>],f[i+<span class="number">1</span>][j+<span class="number">1</span>]);</div><div class="line"></div><div class="line">			&#125;</div><div class="line"></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,maxx(f[<span class="number">1</span>][<span class="number">5</span>],f[<span class="number">1</span>][<span class="number">6</span>],f[<span class="number">1</span>][<span class="number">7</span>]));</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>

    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/dp/">dp</a><a class="tag-link" href="/tags/数塔/">数塔</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/06/26/text-mining-feature-extraction/">
      文本挖掘初步 - 文本特征值提取
    </a>
  </h2>
  
  <time>
    6月 26, 2015
  </time>
  <section class="content">
	  <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>继续上文<a href="http://www.jetmuffin.com/archives/225" target="_blank" rel="external">文本中文分词</a>的内容，本文的目的是从文本中提取出其特征向量，以便之后的分类器进行分类。</p>
<h2 id="语料库"><a href="#语料库" class="headerlink" title="语料库"></a>语料库</h2><p>本文采用Sougou实验室的语料库，下载地址为：<a href="http://www.sogou.com/labs/dl/c.html" target="_blank" rel="external">搜狗实验室文本分类资料</a>。其中预料文件大小不一，有mini版(136K)，精简版(30M)，以及完整版(108M)，这里笔者就直接上最大的语料了～:lol:</p>
<p><strong>文档结构：</strong></p>
<ul>
<li>C000007 汽车</li>
<li>C000008 财经</li>
<li>C000010  IT</li>
<li>C000013 健康</li>
<li>C000014 体育</li>
<li>C000016 旅游</li>
<li>C000020 教育</li>
<li>C000022 招聘</li>
<li>C000023 文学</li>
<li>C000024 军事</li>
</ul>
<p><strong>注意：</strong>搜狗的语料库均为GBK编码，若在Linux环境下会出现乱码影响处理，建议修改文件编码为utf-8</p>
<h2 id="词袋模型"><a href="#词袋模型" class="headerlink" title="词袋模型"></a>词袋模型</h2><p>利用中文分词工具，我们对每篇文章进行分词，去停用词后，用一个Map存储每个词的相关信息，保存形式为单词 &lt;词的文本字符串, 词的相关属性&gt;，其中单词(Term)的相关属性有(词性、tf、df、tfidf、chi等)。这样，遍历数据集目录和文件，就能去将全部的文档分词，最终就能构建词袋模型。</p>
<p>其中词(Term)的类如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.jetmuffin.TextClassifier.common;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Term</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</div><div class="line">    <span class="keyword">private</span> String word;</div><div class="line">    <span class="keyword">private</span> String lexicalCategory = <span class="string">"unknown"</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> freq = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">double</span> tf;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">double</span> idf;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">double</span> tfidf = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">double</span> chi = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span></span>&#123;</div><div class="line">        ....</div><div class="line">    &#125;</div><div class="line">    ......</div></pre></td></tr></table></figure>
<p>而词袋的存储Map格式如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">int</span> totalDocCount;</div><div class="line"><span class="keyword">private</span> <span class="keyword">final</span> List labels = <span class="keyword">new</span> ArrayList();</div><div class="line"><span class="comment">// Map&lt;类别, 文档数量&gt;</span></div><div class="line"><span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, Integer&gt; labelledTotalDocCountMap = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</div><div class="line"><span class="comment">// Map&lt;类别, Map&lt;文档 ,Map&lt;词, 词信息&gt;&gt;&gt;</span></div><div class="line"><span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, Map&lt;String, Map&lt;String, Term&gt;&gt;&gt; termTable = <span class="keyword">new</span> HashMap&lt;String, Map&lt;String, Map&lt;String, Term&gt;&gt;&gt;();</div><div class="line"><span class="comment">// Map&lt;词 ,Map&lt;类别, Set&lt;文档&gt;&gt;&gt;</span></div><div class="line"><span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, Map&lt;String, Set&gt;&gt; invertedTable = <span class="keyword">new</span> HashMap&lt;String, Map&lt;String, Set&gt;&gt;();</div></pre></td></tr></table></figure>
<h2 id="特征值-TFIDF-计算"><a href="#特征值-TFIDF-计算" class="headerlink" title="特征值(TFIDF)计算"></a>特征值(TFIDF)计算</h2><p>tfidf是文本分类中最常使用的特征权值，其中tf(Term Frequency)为词频，idf为(Inverse Document Frequency)，tf反映了该词在该类文本中的热门程度，而idf则反映了该词对于其他文本更好的区别能力。</p>
<p>tfidf的计算方式如下：</p>
<p><img src="http://i4.tietuku.com/218e13597b4ea3d8.png" alt="tf"><img src="http://i4.tietuku.com/c20eec142f06b175.png" alt=""><img src="http://i4.tietuku.com/a15b04b7d23c4837.png" alt=""></p>
<h2 id="卡方拟合检验"><a href="#卡方拟合检验" class="headerlink" title="卡方拟合检验"></a>卡方拟合检验</h2><p>经上一步计算出的tfidf值作为文章的特征值，但因为文章所包含的词往往非常多，特征向量的维数巨大，可能会达到上千维之多。因此需要对文章的特征向量进行降维。</p>
<p>进行降维，可以达到以下效果：</p>
<ul>
<li>避免过拟合（over fitting），提高分类准确度</li>
<li>通过降维，大大节省计算时间和空间<br>我们选择基于卡方统计量（chi-square statistic， CHI）技术来实现选择，这里根据计算公式：</li>
</ul>
<p><img src="http://i4.tietuku.com/2dce06a9ac95d718.jpg" alt=""></p>
<p>其中，公式中各个参数的含义，说明如下：</p>
<ul>
<li>N：训练数据集文档总数</li>
<li>A：在一个类别中，包含某个词的文档的数量</li>
<li>B：在一个类别中，排除该类别，其他类别包含某个词的文档的数量</li>
<li>C：在一个类别中，不包含某个词的文档的数量</li>
<li>D：在一个类别中，不包含某个词也不在该类别中的文档的数量<br>使用卡方统计量，为每个类别下的每个词都进行计算得到一个CHI值，然后对这个类别下的所有的词基于CHI值进行排序，选择出最大的topN个词；最后将多个类别下选择的多组topN个词进行合并，得到最终的特征向量。</li>
</ul>
<h2 id="向量空间模型"><a href="#向量空间模型" class="headerlink" title="向量空间模型"></a>向量空间模型</h2><p>提取文档的特征向量，目的是建立向量空间模型，每个文档 dj 可以用标引项向量来表示  (a1j,a2j,…,aMj)  <img src="http://i4.tietuku.com/e665571f39dec3cb.png" alt=""></p>
<p>利用向量空间模型，可以很容易计算出两个文档的相似度：</p>
<ul>
<li>余弦公式（计算向量夹角）</li>
<li><p>欧式距离（计算两点距离）<br>计算出了文本相似度（文本距离），则可以进行我们的下，即进行分类器的建立了。我们将在后续的文章继续研究不同的分类方法对文本的分类，包括：</p>
</li>
<li><p>KNN</p>
</li>
<li>SVM</li>
<li>Naive Bayes</li>
<li>BP Neural Network (furthermore, RBF Neural Network)</li>
</ul>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/tfidf/">tfidf</a><a class="tag-link" href="/tags/卡方校验/">卡方校验</a><a class="tag-link" href="/tags/文本特征值/">文本特征值</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/06/06/hdu-5245-Joyful-ACM-shanghai-invitation-J-probability/">
      hdu 5245 Joyful ACM上海大都会邀请赛 J题 概率
    </a>
  </h2>
  
  <time>
    6月 6, 2015
  </time>
  <section class="content">
	  <p><strong>题目：</strong><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5245">http://acm.hdu.edu.cn/showproblem.php?pid=5245</a></p>

    
	  <div class="readmore">
      <a href="/2015/06/06/hdu-5245-Joyful-ACM-shanghai-invitation-J-probability/">Read More</a>
    </div>
    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/期望/">期望</a><a class="tag-link" href="/tags/概率/">概率</a><a class="tag-link" href="/tags/邀请赛/">邀请赛</a>
	  </div>
    

  </section>
</article>


  
    <!-- Layouts -->


<article class="post ">
  
  <h2 class="title">
    <a href="/2015/06/06/hdu-5241-Friends-ACM-shanghai-invitation-F/">
      hdu 5241 Friends ACM上海大都会邀请赛 F题
    </a>
  </h2>
  
  <time>
    6月 6, 2015
  </time>
  <section class="content">
	  <p><strong>题目：</strong><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5241">http://acm.hdu.edu.cn/showproblem.php?pid=5241</a></p>

    
	  <div class="readmore">
      <a href="/2015/06/06/hdu-5241-Friends-ACM-shanghai-invitation-F/">Read More</a>
    </div>
    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/数论/">数论</a><a class="tag-link" href="/tags/结论题/">结论题</a><a class="tag-link" href="/tags/邀请赛/">邀请赛</a>
	  </div>
    

  </section>
</article>


  
</section>


  <nav id="page-nav">
    
    <a class="prev" rel="prev" href="/archives/2015/page/3/">
      <span class="icon icon-chevron-left"></span>
      <span class="text">Previous</span>
    </a>
    
    
    <a class="next" rel="next" href="/archives/2015/page/5/">
      <span class="text">Next</span>
      <span class="icon icon-chevron-right"></span>
    </a>
    
  </nav>
  


      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  
	<div class="search">
	  <form name="searchform" id="searchform" class="u-search-form">
	    <input type="text" id="searchinput" class="u-search-input" placeholder="Looking for something?" />
	    <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit">
	      <span class="icon icon-search"></span>
	    </button>
	  </form>
	</div>
	

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/jetmuffin" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/otakism" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
        <a href="https://plus.google.com/+ArtChenOtakism/posts" class="social google"
          target="_blank" rel="external">
          <span class="icon icon-google"></span>
        </a>
      
        <a href="http://weibo.com/u/1922357801/" class="social sina-weibo"
          target="_blank" rel="external">
          <span class="icon icon-sina-weibo"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div>
  <div>&copy; <a href="/">JetMuffin&#39;s Blog</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
    <div class="overlay"></div>
  </div>

  <div class="site-sidebar" id="site-sidebar">
	<div class="site-bio show">
		<div class="about-me clearfix">
			<div class="avatar">
				<img src="/uploads/avatar.jpg" alt="">
			</div>
			<div class="info">
				<a href="/about" class="name dark-btn">jetmuffin </a>
			</div>
			<div class="info">
				<span class="item desc">Kaizokuou ore ha naru </span>
			</div>
		</div>
		<div class="menu section">
			<ul class="clearfix">
			
						<li class="left"><a href="/" class="nav-home dark-btn block">
		        			Home
		        		</a></li>
		    
		        		<li class="right"><a href="/about" class="nav-about dark-btn block">
		        			About
		        		</a></li>
		        		
						<li class="left"><a href="/archives" class="nav-archives dark-btn block">
		        			Archives
		        		</a></li>
		    
		        		<li class="right"><a href="/tags" class="nav-tags dark-btn block">
		        			Tags
		        		</a></li>
		        		
			</ul>
		</div>			
	</div>
	<div class="shortcuts">
		<a href="#header" class="top window-nav dark-btn" id="go-top"><span class="icon icon-chevron-thin-up"></span> </a>
		<a class="close dark-btn" id="sidebar-close"><span class="icon icon-close"></span> </a><a href="#footer" class="top window-nav dark-btn" id="go-bottom"><span class="icon icon-chevron-thin-down"></span></a>
	</div>
</div>
    <script>setLoadingBarProgress(90);</script>

  
<script>
  var disqus_shortname = 'jetmuffin';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="http://cdn.jetmuffin.com/static/jquery-2.1.4.min.js"></script>
<script src="http://cdn1.lncld.net/static/js/av-min-1.5.3.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>
<script src="/js/jquery.fitvids.js"></script>
<script>AV.init({appId: "IxqcEzmebHkRECv72mAIKAAk-gzGzoHsz", appKey: "JIhGNtTGcnfuLSkHRx70dlVw"});</script>
<script>
	function showTime(Counter) {
		var query = new AV.Query(Counter);
		$(".leancloud-views_num").each(function() {
			var url = $(this).attr("id").trim();
			query.equalTo("url", url);
			query.find({
				success: function(results) {
					if (results.length == 0) {
						var content = '0 ' + $(document.getElementById(url)).text();
						$(document.getElementById(url)).text(content);
						return;
					}
					for (var i = 0; i < results.length; i++) {
						var object = results[i];
						var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
						$(document.getElementById(url)).text(content);
					}
				},
				error: function(object, error) {
					console.log("Error: " + error.code + " " + error.message);
				}
			});

		});
	}

	function addCount(Counter) {
		var Counter = AV.Object.extend("Counter");
		var url = $('.post > .title a').attr('href').trim();
		var title = $('.post > .title a').text().trim();
		var query = new AV.Query(Counter);
		query.equalTo("url", url);
		query.find({
			success: function(results) {
				if (results.length > 0) {
					var counter = results[0];
					counter.save(true);
					counter.increment("time");
					counter.save(null, {
						success: function(counter) {
							var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
							$(document.getElementById(url)).text(content);
						},
						error: function(counter, error) {
							console.log('Failed to save Visitor num, with error message: ' + error.message);
						}
					});
				} else {
					var newcounter = new Counter();
					newcounter.set("title", title);
					newcounter.set("url", url);
					newcounter.set("time", 1);
					newcounter.save(null, {
						success: function(newcounter) {
							console.log("newcounter.get('time')="+newcounter.get('time'));
							var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
							$(document.getElementById(url)).text(content);
						},
						error: function(newcounter, error) {
							console.log('Failed to create');
						}
					});
				}
			},
			error: function(error) {
				console.log('Error:' + error.code + " " + error.message);
			}
		});
	}
	$(function() {
		var Counter = AV.Object.extend("Counter");
		if ($('.post > .title').length == 1) {
			addCount(Counter);
		}
	}); 
</script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
